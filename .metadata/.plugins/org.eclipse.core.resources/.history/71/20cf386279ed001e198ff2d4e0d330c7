package daily_0329;

import java.io.*;
import java.util.*;

public class BJ_2573_빙산 {
	
	public static int r,c;
	public static int[][] map;
	public static boolean[][] visited;
	public static int[][] dir= {{-1,0},{0,1},{1,0},{0,-1}};

	public static void main(String[] args) throws IOException{
		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st=new StringTokenizer(br.readLine());
		r=Integer.parseInt(st.nextToken());
		c=Integer.parseInt(st.nextToken());
		map=new int[r][c];
		
		for(int i=0;i<r;i++) {
			st=new StringTokenizer(br.readLine());
			for(int j=0;j<c;j++) {
				map[i][j]=Integer.parseInt(st.nextToken());
			}
		}
		
		int ice=1; //빙산의 개수
		int time=1;
		
		while(true) { 
			
			ice=melt();
			
			
		}
	
	}
	
	//1년이 지나 빙산 녹는 함수
	public static int melt() {
		
		int[][] melted=new int[r][c];
		for(int i=0;i<r;i++) {
			for(int j=0;j<c;j++) {
				if(map[i][j]>0) {
					int melting=0;
					for(int d=0;d<4;d++) {
						int dx=i+dir[d][0];
						int dy=j+dir[d][1];
						if(dx<0 || dx>=r || dy<0 || dy>=c) continue;
						if(map[dx][dy]==0) melting++;
					}
					melted[i][j]=map[i][j]-melting;
				}
				
	
			}
		}
	 
		int ice=0;
		visited=new boolean[r][c];
		for(int i=0;i<r;i++) {
			for(int j=0;j<c;j++) {
				if(melted[i][j]>0 && !visited[i][j]) {
					ice++;
					bfs(melted,visited,i,j);
				}
			}
		}
		
		for(int i=0;i<r;i++) {
			for(int j=0;j<c;j++) {
				map[i][j]=melted[i][j];
			}
		}
		
		
		return ice;
		
	}

	
	//빙산 갯수 세는 함수
	public static void bfs(int[][] map,boolean[][] visited,int startx,int starty) {
		Queue<int[]> q=new ArrayDeque<>();
		
		q.add(new int[] {startx,starty});
		visited[startx][starty]=true;
		
		while(!q.isEmpty()) {
			int[] tmp=q.poll();
			for(int d=0;d<4;d++) {
				int dx=tmp[0]+dir[d][0];
				int dy=tmp[1]+dir[d][1];
				if(dx<0 || dx>=r || dy<0 || dy>=c) continue;
				if(map[dx][dy]>0 && !visited[dx][dy]) {
					q.add(new int[] {dx,dy});
					visited[dx][dy]=true;
				}
			}
			
		}
	}
	
	

}
